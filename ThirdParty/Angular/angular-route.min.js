(function(n,t){"use strict";function u(){function i(n,i){return t.extend(new(t.extend(function(){},{prototype:n})),i)}function r(n,t){var r=t.caseInsensitiveMatch,i={originalPath:n,regexp:n},u=i.keys=[];return n=n.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(n,t,i,r){var f=r==="?"?r:null,e=r==="*"?r:null;return u.push({name:i,optional:!!f}),t=t||"",""+(f?"":t)+"(?:"+(f?t:"")+(e&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+n+"$",r?"i":""),i}var n={};this.when=function(i,u){if(n[i]=t.extend({reloadOnSearch:!0},u,i&&r(i,u)),i){var f=i[i.length-1]=="/"?i.substr(0,i.length-1):i+"/";n[f]=t.extend({redirectTo:i},r(f,u))}return this},this.otherwise=function(n){return this.when(null,n),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(r,u,f,e,o,s,h,c){function y(n,t){var s=t.keys,e={},r,i,o,u,f;if(!t.regexp||(r=t.regexp.exec(n),!r))return null;for(i=1,o=r.length;i<o;++i)u=s[i-1],f="string"==typeof r[i]?decodeURIComponent(r[i]):r[i],u&&f&&(e[u.name]=f);return e}function v(){var n=p(),i=l.current;n&&i&&n.$$route===i.$$route&&t.equals(n.pathParams,i.pathParams)&&!n.reloadOnSearch&&!a?(i.params=n.params,t.copy(i.params,f),r.$broadcast("$routeUpdate",i)):(n||i)&&(a=!1,r.$broadcast("$routeChangeStart",n,i),l.current=n,n&&n.redirectTo&&(t.isString(n.redirectTo)?u.path(w(n.redirectTo,n.params)).search(n.params).replace():u.url(n.redirectTo(n.pathParams,u.path(),u.search())).replace()),e.when(n).then(function(){if(n){var u=t.extend({},n.resolve),r,i;return t.forEach(u,function(n,i){u[i]=t.isString(n)?o.get(n):o.invoke(n)}),t.isDefined(r=n.template)?t.isFunction(r)&&(r=r(n.params)):t.isDefined(i=n.templateUrl)&&(t.isFunction(i)&&(i=i(n.params)),i=c.getTrustedResourceUrl(i),t.isDefined(i)&&(n.loadedTemplateUrl=i,r=s.get(i,{cache:h}).then(function(n){return n.data}))),t.isDefined(r)&&(u.$template=r),e.all(u)}}).then(function(u){n==l.current&&(n&&(n.locals=u,t.copy(n.params,f)),r.$broadcast("$routeChangeSuccess",n,i))},function(t){n==l.current&&r.$broadcast("$routeChangeError",n,i,t)}))}function p(){var f,r;return t.forEach(n,function(n){!r&&(f=y(u.path(),n))&&(r=i(n,{params:t.extend({},u.search(),f),pathParams:f}),r.$$route=n)}),r||n[null]&&i(n[null],{params:{},pathParams:{}})}function w(n,i){var r=[];return t.forEach((n||"").split(":"),function(n,t){if(t===0)r.push(n);else{var u=n.match(/(\w+)(.*)/),f=u[1];r.push(i[f]),r.push(u[2]||""),delete i[f]}}),r.join("")}var a=!1,l={routes:n,reload:function(){a=!0,r.$evalAsync(v)}};return r.$on("$locationChangeSuccess",v),l}]}function f(){this.$get=function(){return{}}}function r(n,i,r,u,f){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,o,s){return function(e,o,h){function v(){c&&(c.$destroy(),c=null),l&&(f.leave(l),l=null)}function y(){var h=n.current&&n.current.locals,w=h&&h.$template,y;w?(y=e.$new(),s(y,function(s){var d,b,k;s.html(w),f.enter(s,null,l||o,function(){t.isDefined(a)&&(!a||e.$eval(a))&&i()}),v(),d=r(s.contents()),b=n.current,c=b.scope=y,l=s,b.controller&&(h.$scope=c,k=u(b.controller,h),b.controllerAs&&(c[b.controllerAs]=k),s.data("$ngControllerController",k),s.children().data("$ngControllerController",k)),d(c),c.$emit("$viewContentLoaded"),c.$eval(p)})):v()}var c,l,a=h.autoscroll,p=h.onload||"";e.$on("$routeChangeSuccess",y),y()}}}}var i=t.module("ngRoute",["ng"]).provider("$route",u);i.provider("$routeParams",f),i.directive("ngView",r),r.$inject=["$route","$anchorScroll","$compile","$controller","$animate"]})(window,window.angular);
//# sourceMappingURL=angular-route.min.js.map